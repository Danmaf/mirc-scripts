alias 15sec_timer {
  msg %wl_chan 02,02...10,12|12.10|12.10|12.10|12.10|12.10|12.10|12.10|12.10|12.10|12.10|12.10|12.10|12.10|12.10|12.10|02,02.00,12(0:15)02,02... 00,00play wl_r3_time.mp3
  timer 1 10 msg %wl_chan 02,02...10,12|12.10|12.10|12.10|12.10|12.10|02,02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02,02.00,12(0:05)02,02...
  timer 1 11 msg %wl_chan 02,02...10,12|12.10|12.10|12.10|12.10|02,02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02,02.00,12(0:04)02,02...
  timer 1 12 msg %wl_chan 02,02...10,12|12.10|12.10|12.10|02,02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02,02.00,12(0:03)02,02...
  timer 1 13 msg %wl_chan 02,02...10,12|12.10|12.10|02,02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02,02.00,12(0:02)02,02...
  timer 1 14 msg %wl_chan 02,02...10,12|12.10|02,02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02,02.00,12(0:01)02,02...
}

alias wl_tree {
  msg %wl_chan 15,6[001715] $+ $wordline(00,02,9,$gettok(%wl_tree,17,124),3) 15,6[001815] $+ $wordline(00,02,9,$gettok(%wl_tree,18,124),3) 15,6[001915] $+ $wordline(00,02,9,$gettok(%wl_tree,19,124),3) 15,6[002015] $+ $wordline(00,02,9,$gettok(%wl_tree,20,124),3) 
  msg %wl_chan 15,6[001315] $+ $wordline(00,02,9,$gettok(%wl_tree,13,124),3) 15,6[001415] $+ $wordline(00,02,9,$gettok(%wl_tree,14,124),3) 15,6[001515] $+ $wordline(00,02,9,$gettok(%wl_tree,15,124),3) 15,6[001615] $+ $wordline(00,02,9,$gettok(%wl_tree,16,124),3) 
  msg %wl_chan 15,6[000915] $+ $wordline(00,02,9,$gettok(%wl_tree,9,124),3) 15,6[001015] $+ $wordline(00,02,9,$gettok(%wl_tree,10,124),3) 15,6[001115] $+ $wordline(00,02,9,$gettok(%wl_tree,11,124),3) 15,6[001215] $+ $wordline(00,02,9,$gettok(%wl_tree,12,124),3) 
  msg %wl_chan 15,6[000515] $+ $wordline(00,02,9,$gettok(%wl_tree,5,124),3) 15,6[000615] $+ $wordline(00,02,9,$gettok(%wl_tree,6,124),3) 15,6[000715] $+ $wordline(00,02,9,$gettok(%wl_tree,7,124),3) 15,6[000815] $+ $wordline(00,02,9,$gettok(%wl_tree,8,124),3) 
  msg %wl_chan 15,6[000115] $+ $wordline(00,02,9,$gettok(%wl_tree,1,124),3) 15,6[000215] $+ $wordline(00,02,9,$gettok(%wl_tree,2,124),3) 15,6[000315] $+ $wordline(00,02,9,$gettok(%wl_tree,3,124),3) 15,6[000415] $+ $wordline(00,02,9,$gettok(%wl_tree,4,124),3) 
}

alias answers {
  msg %wl_chan 1,1.....................................................................................
  msg %wl_chan 15,6[000115]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,1,124),2) $+ 02.15,6[000215]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,2,124),2) $+ 02.15,6[000315]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,3,124),2) $+ 02.15,6[000415]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,4,124),2) $+ 02.15,6[000515]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,5,124),2) $+ 02.
  msg %wl_chan 15,6[000615]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,6,124),2) $+ 02.15,6[000715]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,7,124),2) $+ 02.15,6[000815]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,8,124),2) $+ 02.15,6[000915]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,9,124),2) $+ 02.15,6[001015]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,10,124),2) $+ 02.
  msg %wl_chan 15,6[001115]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,11,124),2) $+ 02.15,6[001215]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,12,124),2) $+ 02.15,6[001315]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,13,124),2) $+ 02.15,6[001415]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,14,124),2) $+ 02.15,6[001515]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,15,124),2) $+ 02.
  msg %wl_chan 15,6[001615]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,16,124),2) $+ 02.15,6[001715]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,17,124),2) $+ 02.15,6[001815]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,18,124),2) $+ 02.15,6[001915]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,19,124),2) $+ 02.15,6[002015]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,20,124),2) $+ 02.
  msg %wl_chan 15,6[002115]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,21,124),2) $+ 02.15,6[002215]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,22,124),2) $+ 02.15,6[002315]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,23,124),2) $+ 02.15,6[002415]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,24,124),2) $+ 02.15,6[002515]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,25,124),2) $+ 02.
  msg %wl_chan 15,6[002615]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,26,124),2) $+ 02.15,6[002715]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,27,124),2) $+ 02.15,6[002815]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,28,124),2) $+ 02.15,6[002915]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,29,124),2) $+ 02.15,6[003015]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,30,124),2) $+ 02.
  msg %wl_chan 15,6[003115]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,31,124),2) $+ 02.15,6[003215]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,32,124),2) $+ 02.15,6[003315]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,33,124),2) $+ 02.15,6[003415]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,34,124),2) $+ 02.15,6[003515]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,35,124),2) $+ 02.
  msg %wl_chan 15,6[003615]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,36,124),2) $+ 02.15,6[003715]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,37,124),2) $+ 02.15,6[003815]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,38,124),2) $+ 02.15,6[003915]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,39,124),2) $+ 02.15,6[004015]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,40,124),2) $+ 02.
  msg %wl_chan 15,6[004115]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,41,124),2) $+ 02.15,6[004215]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,42,124),2) $+ 02.15,6[004315]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,43,124),2) $+ 02.15,6[004415]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,44,124),2) $+ 02.15,6[004515]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,45,124),2) $+ 02.
  msg %wl_chan 15,6[004615]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,46,124),2) $+ 02.15,6[004715]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,47,124),2) $+ 02.1,1 $+ $str(.,17) $+ 15,6[004815]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,48,124),2) $+ 02.15,6[004915]01,01.02,02. $+ $wordline(00,02,10,$gettok(%wl_answers,49,124),2) $+ 02.
  msg %wl_chan 1,1.....................................................................................
}

alias passes {
  if (%wl_pass == 1) {
    set %wl_ps 15,12[P]|05,12[P] 
    splay wl_r1_top3.wav
    msg %wl_chan 02,02...00,06( $+ $f_time(%j) $+ )02,02... $+ $gettok(%wl_pitstops,1,124) $+ 02,02.$+ $gettok(%wl_pitstops,2,124) $+ 02,02... $+ $gettok(%wl_ps,1,124) $+ 02,02.$+ $gettok(%wl_ps,2,124) $+ 02,02... 0,0play wl_r1_top3.wav
  }
  if (%wl_pass == 0) {
    set %wl_ps 05,12[P]|05,12[P] 
    splay wl_r1_top3.wav
    msg %wl_chan 02,02...00,06( $+ $f_time(%j) $+ )02,02... $+ $gettok(%wl_pitstops,1,124) $+ 02,02.$+ $gettok(%wl_pitstops,2,124) $+ 02,02... $+ $gettok(%wl_ps,1,124) $+ 02,02.$+ $gettok(%wl_ps,2,124) $+ 02,02... 0,0play wl_r1_top3.wav
  }
}

alias pitstop {
  dec %wl_pit
  if (%wl_pit == 1) {
    set %wl_pitstops 15,12[S]|01,12[S]
    splay wl_r3_pitstop_1.mp3
    timer 1 15 set %wl_mode 1
  }
  if (%wl_pit == 0) {
    set %wl_pitstops 01,12[S]|01,12[S]
    splay wl_r3_pitstop_2.mp3
    timer 1 15 set %wl_mode 1
  }
  msg %wl_chan 02,02...00,06( $+ $f_time(%j) $+ )02,02... $+ $gettok(%wl_pitstops,1,124) $+ 02,02.$+ $gettok(%wl_pitstops,2,124) $+ 02,02... 00,00play wl_r3_pitstop_1.mp3
  msg %wl_chan 02,02...10,12|12.10|12.10|12.10|12.10|12.10|12.10|12.10|12.10|12.10|12.10|12.10|12.10|12.10|12.10|12.10|02,02.00,12(0:15)02,02...
  timer -m 1 750 answers
  timer 1 10 msg %wl_chan 02,02...10,12|12.10|12.10|12.10|12.10|12.10|02,02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02,02.00,12(0:05)02,02...
  timer 1 11 msg %wl_chan 02,02...10,12|12.10|12.10|12.10|12.10|02,02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02,02.00,12(0:04)02,02...
  timer 1 12 msg %wl_chan 02,02...10,12|12.10|12.10|12.10|02,02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02,02.00,12(0:03)02,02...
  timer 1 13 msg %wl_chan 02,02...10,12|12.10|12.10|02,02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02,02.00,12(0:02)02,02...
  timer 1 14 msg %wl_chan 02,02...10,12|12.10|02,02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02.10|02,02.00,12(0:01)02,02...
  timer 1 15 msg %wl_chan 02,02...00,06( $+ $f_time(%j) $+ )02,02... $+ $gettok(%wl_pitstops,1,124) $+ 02,02.$+ $gettok(%wl_pitstops,2,124) $+ 02,02...
  timer 1 15 msg %wl_chan 0,2 %wl_question 
}

alias wronganswers {
  inc %wl_wrong
  if (%wl_wrong == 1) {
    splay wl_r1_eliminate.wav
    set %wl_wrongs 0,4(X)|1,5(X)|1,5(X)|1,5(X)|1,5(X)
    msg %wl_chan %wl_wrongs 0,0play wl_r1_eliminate.wav
  }
  if (%wl_wrong == 2) {
    splay wl_r1_eliminate.wav
    set %wl_wrongs 0,4(X)|0,4(X)|1,5(X)|1,5(X)|1,5(X)
    msg %wl_chan %wl_wrongs 0,0play wl_r1_eliminate.wav
  }
  if (%wl_wrong == 3) {
    splay wl_r1_eliminate.wav
    set %wl_wrongs 0,4(X)|0,4(X)|0,4(X)|1,5(X)|1,5(X)
    msg %wl_chan %wl_wrongs 0,0play wl_r1_eliminate.wav
  }
  if (%wl_wrong == 4) {
    splay wl_r1_eliminate.wav
    set %wl_wrongs 0,4(X)|0,4(X)|0,4(X)|0,4(X)|1,5(X)
    msg %wl_chan %wl_wrongs 0,0play wl_r1_eliminate.wav
  }
  if (%wl_wrong == 5) {
    splay wl_r3_end.mp3
    set %wl_wrongs 0,4(X)|0,4(X)|0,4(X)|0,4(X)|0,4(X)
    msg %wl_chan %wl_wrongs 0,0play wl_r3_end.mp3
    timers off
    set %wl_mode 0
    set %wl_win 0
  }
}

dialog wl {
  title "New Project"
  size -1 -1 710 510
  option pixels

  box "–í–µ–¥—É—â–µ–º—É", 1, 0 0 710 50
  button "–°—Ç–∞—Ä—Ç", 2, 10 20 45 25
  button "–¢–∏—Ç—Ä—ã", 3, 60 20 45 25
  button "–ü—Ä–µ–∫–ª–æ–∑–∏–Ω–≥", 4, 110 20 75 25
  button "–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã", 5, 190 20 85 25
  button "–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤", 6, 280 20 75 25
  button "+m", 7, 360 20 25 25
  button "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è", 8, 390 20 75 25
  edit "", 9, 470 20 100 21

  box "1 —Ä–∞—É–Ω–¥", 10, 0 50 710 180
  button "–ü–æ–∫–∞–∑–∞—Ç—å 49–∫—É", 11, 10 70 95 25
  button "–ù–∞—á–∞—Ç—å —Ä–∞—É–Ω–¥", 12, 110 70 85 25
  button ">", 13, 200 70 25 25
  edit "0", 14, 230 70 20 21
  button "–í–æ–ø—Ä–æ—Å", 15, 250 70 55 25
  button "–í—Ä–µ–º—è", 16, 310 70 45 25
  button "–û—Ç–≤–µ—Ç—ã", 17, 360 70 55 25
  button "–í–µ—Ä–Ω—ã–π", 18, 420 70 55 25
  button "–û—Ç—Å–µ–≤", 19, 480 70 45 25
  button "–¢—Ä–∏", 20, 550 70 45 25
  button "–î–≤–∞", 21, 600 70 45 25
  button "–û–¥–∏–Ω", 22, 650 70 45 25
  edit "", 23, 10 100 680 61
  edit "", 24, 10 160 680 21
  button "–ö–û–ù–ï–¶ –ü–ï–†–í–û–ì–û –†–ê–£–ù–î–ê", 25, 10 190 675 25

  box "2 —Ä–∞—É–Ω–¥", 26, 0 230 710 150
  button "–ü–æ–∫–∞–∑–∞—Ç—å —à–µ—Å—Ç–µ—Ä—ã—Ö", 27, 10 250 115 25
  button "–ù–∞—á–∞—Ç—å —Ä–∞—É–Ω–¥", 28, 130 250 85 25
  button "–í–æ–ø—Ä–æ—Å", 29, 220 250 55 25
  button "5 —Å–µ–∫—É–Ω–¥", 30, 280 250 65 25
  button "V", 31, 350 250 25 25
  button "X", 32, 380 250 25 25
  button "–ö—Ç–æ –ø–æ–∫–∏–¥–∞–µ—Ç –∏–≥—Ä—É?", 33, 540 250 145 25
  edit "", 34, 10 280 100 21
  edit "", 35, 110 280 100 21
  edit "", 36, 210 280 100 21
  edit "", 37, 390 280 100 21
  edit "", 38, 490 280 100 21
  edit "", 39, 590 280 100 21
  edit "", 40, 10 300 680 51
  edit "", 41, 10 350 680 21

  box "3 —Ä–∞—É–Ω–¥", 42, 0 380 710 130
  button "–§–∏–Ω–∞–ª–∏—Å—Ç", 43, 10 400 65 25
  button "–î–µ—Ä–µ–≤–æ", 44, 80 400 55 25
  button "–ù–∞—á–∞—Ç—å —Ä–∞—É–Ω–¥", 45, 140 400 85 25
  button "–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç—ã", 46, 230 400 105 25
  button "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É", 47, 340 400 75 25
  button "V", 48, 420 400 25 25
  button "X", 49, 450 400 25 25
  button "–°—Ç–æ–ø", 50, 650 400 35 25
  edit "", 51, 10 430 680 51
  edit "", 52, 10 480 330 21
  edit "49", 53, 340 480 30 21
  edit "3:00", 54, 650 480 40 21
}

alias wl {
  dialog -mots wl wl
  set %wl_chan $active
  did -ra wl 9 %wl_chan
}

alias logotype {
  msg %wl_chan 02,02.............................................................................
  msg %wl_chan 02,02........................11,11**02,02.......................11,11**02,02..........................
  msg %wl_chan 02,02.............................................................................
  msg %wl_chan 02,02........11,11***02,02..11,11***02,02..11,11***02,02..11,11***02,02..11,11******02,02....11,11******02,02....11,11***02,02..11,11******02,02....11,11*******02,02.......
  msg %wl_chan 02,02.......11,11***02,02..11,11***02,02..11,11***02,02..11,11***02,02..11,11***02,02..11,11***02,02..11,11***02,02..11,11***02,02..11,11***02,02..11,11***02,02..11,11***02,02..11,11***02,02..11,11**02,02........
  msg %wl_chan 02,02........11,11***********02,02..11,11***02,02..11,11***02,02..11,11***02,02..11,11***02,02..11,11***02,02..11,11***02,02..11,11***02,02..11,11***02,02....11,11******02,02........
  msg %wl_chan 02,02...................................................................11,11**02,02........
  msg %wl_chan 02,02..............11,11***02,02.........11,11***02,02....11,11**02,02.....11,11***02,02....11,11*******02,02...11,11*******02,02.11,11***02,02.........
  msg %wl_chan 02,02.............11,11***02,02.........11,11***02,02....11,11****02,02...11,11***02,02....11,11***02,02.......11,11***02,02..................
  msg %wl_chan 02,02............11,11***02,02.........11,11***02,02....11,11***02,02.11,11**02,02.11,11***02,02....11,11*******02,02.....11,11******02,02..............
  msg %wl_chan 02,02...........11,11***02,02.........11,11***02,02....11,11***02,02...11,11****02,02....11,11***02,02..............11,11***02,02.............
  msg %wl_chan 02,02..........11,11*********02,02...11,11***02,02....11,11***02,02.....11,11**02,02....11,11********02,02....11,11********02,02..............
  msg %wl_chan 02,02.............................................................................
  msg %wl_chan 02,02.............................................................................
  msg %wl_chan –ú–∏–Ω–∏-–∏–≥—Ä–∞
}

on 1:dialog:wl:edit:*: {
  if ($did == 9) set %wl_chan $did(wl, 9)
}  

on 1:dialog:wl:sclick:*: {

  if ($did == 2) {
    unset %wl_*
    timers off
    set %wl_chan $did(9)
    mode %wl_chan +m
    splay wl_intro.mp3
    msg %wl_chan 0,0play wl_intro.mp3
    timer 1 21 logotype
    timer 1 23 splay wl_meet_12s.mp3
    timer 1 23 msg %wl_chan 0,0play wl_meet_12s.mp3
  }

  if ($did == 3) {
    splay wl_close_30.mp3
    msg %wl_chan 0,0play wl_close_30.mp3
    timer 1 2 msg %wl_chan 2,2.......10,2|2.....10|2.....10|2.....10|2.....10|2,2..00WINNING LINES2,2..10|10,22.....10|2.....10|2.....10|2.....10|2,2.......
    timer 1 5 msg %wl_chan 2,2.......10,2|2.00–ó–∞–¥–∞–≤–∞–ª –≤–æ–ø—Ä–æ—Å—ã –∏–≥—Ä–æ–∫–∞–º $+ $str(.,30) $+ –í–∞–¥–∏–º –ó–∞—è—Ü.10|2,2.......
    timer 1 8 msg %wl_chan 2,2.......10,2|2.00–ü—Ä–∏–¥—É–º—ã–≤–∞–ª –∑–∞–¥–∞–Ω–∏—è $+ $str(.,35) $+ –í–∞–¥–∏–º –ó–∞—è—Ü.10|2,2.......
    timer 1 11 msg %wl_chan 2,2.......10,2|2.00–ú—É–∑—ã–∫—É –Ω–∞–ø–∏—Å–∞–ª $+ $str(.,35) $+ Keith Strachan.10|2,2.......
    timer 1 14 msg %wl_chan 2,2.......10,2|2.00–°–¥–µ–ª–∞–ª —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∏–≥—Ä—ã $+ $str(.,24) $+ –î–º–∏—Ç—Ä–∏–π –î–∞–Ω–∏–ª–æ–≤–∏—á.10|2,2.......
    timer 1 17 msg %wl_chan 2,2.......10,2|2.00–ü–æ–º–æ–≥–ª–∏ –Ω–∞–π—Ç–∏ –∫–æ—Å—è–∫–∏ $+ $str(.,35) $+ –¢–µ—Å—Ç–µ—Ä 1.10|2,2.......
    timer 1 29 msg %wl_chan 2,2.......10,2|2.....10|2.....10|2.....10|2..00Gamerboy productions 20232,2..10|2.....10|2.....10|2.....10|2,2.......
  }

  if ($did == 4) {
    splay wl_preclose.mp3
    msg %wl_chan 0,0play wl_preclose.mp3
  }

  if ($did == 5) {
    if (%wl_round == 3) {
      msg %wl_chan –ò—Ç–∞–∫, %wl_player $+ , —Ç—ã –Ω–∞—Ö–æ–¥–∏—à—å—Å—è –≤ –Ω–∞—à–µ–º –∑–∞–ª–µ, –≥–¥–µ —Ä–∞–∑—ã–≥—Ä—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏–ª–∏—á–Ω—ã–µ —Å—É–º–º—ã.
      timer 1 3 msg %wl_chan –ß—Ç–æ–±—ã –∏—Ö –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å, —Ç–µ–±–µ –Ω—É–∂–Ω–æ –æ—Ç–≤–µ—á–∞—Ç—å –≤–µ—Ä–Ω–æ –Ω–∞ –Ω–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã.
      timer 1 6 msg %wl_chan –ü–µ—Ä–µ–¥ —Ç–æ–±–æ–π –±—É–¥–µ—Ç —Å—Ç–µ–Ω–∫–∞ —Å 49 —Å–ª–æ–≤–∞–º–∏. –ö–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ - –æ—Ç–≤–µ—Ç –Ω–∞ –æ–¥–∏–Ω –∏–∑ –≤–æ–ø—Ä–æ—Å–æ–≤.
      timer 1 9 msg %wl_chan –î–∞—ë—à—å –≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç - —Å—É–º–º–∞ –∏–∑ –¥–µ—Ä–µ–≤–∞ —Ç–≤–æ—è. –ö—Å—Ç–∞—Ç–∏, –≤–æ—Ç –∏ –æ–Ω–æ:
      timer 1 12 wl_tree
      timer 1 15 msg %wl_chan –û—à–∏–±—ë—à—å—Å—è - –∏ "–ö—Ä–∞—Å–Ω—ã–π –∫—Ä–µ—Å—Ç" —Ç–µ–±—è –Ω–∞–∫–∞–∂–µ—Ç, –ø–æ—Å—Ç–∞–≤–∏–≤ –∫—Ä–µ—Å—Ç–∏–∫ –≤ —Ç–≤–æ–π –±—é–ª–ª–µ—Ç–µ–Ω—å
      timer 1 18 msg %wl_chan –≠—Ç–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç–∞–≤–∏—Ç —Ç–µ–±–µ —Ç–∞–∫—É—é –æ—Ç–º–µ—Ç–∫—É 4 —Ä–∞–∑–∞, –¥–∞–≤–∞—è –Ω–µ–≤–µ—Ä–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, –∞ –≤–æ—Ç –ø—è—Ç–∞—è —Ç–∞–∫–∞—è –æ—Ç–º–µ—Ç–∫–∞, —Å–¥–µ–ª–∞–µ—Ç —Ç–∞–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º –∏ —Ç—ã –ø–æ—Ç–µ—Ä—è–µ—à—å –≤—Å—ë.
      timer 1 21 msg %wl_chan –ù–∞ –≤—Å—ë –ø—Ä–æ –≤—Å—ë —Ç–µ–±–µ –¥–∞—ë—Ç—Å—è 3 –º–∏–Ω—É—Ç—ã –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –≤ —Ç–µ—á–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä—ã—Ö —è –º–æ–≥—É —Å–ø–æ–∫–æ–π–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã.
      timer 1 24 msg %wl_chan –î–≤–∞–∂–¥—ã —Ç–µ–±–µ –¥–∞—ë—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫—É—à–∞—Ç—å —Ç–æ—Ä—Ç–∏–∫, –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ–≤ –≤–∞—Ä–∏–∞–Ω—Ç—ã. –£ —Ç–µ–±—è –Ω–∞ —Å–∏–µ –¥–µ–π—Å—Ç–≤–∏–µ –±—É–¥–µ—Ç 15 —Å–µ–∫—É–Ω–¥.
      timer 1 27 msg %wl_chan –ß—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —ç—Ç—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å, –≤–≤–µ–¥–∏ –∫–æ–º–∞–Ω–¥—É 04—Å—Ç–æ–ø
      timer 1 30 msg %wl_chan –ü–æ–º–∏–º–æ —ç—Ç–æ–≥–æ —Ç—ã –º–æ–∂–µ—à—å –¥–≤–∞–∂–¥—ã –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –≤–æ–ø—Ä–æ—Å. –í–≤–µ–¥–∏ –∫–æ–º–∞–Ω–¥—É 04–ø–∞—Å –∏ —è —Ç–µ–±–µ –∑–∞–¥–∞–º –Ω–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å.
      timer 1 33 msg %wl_chan –î–µ–Ω—å–≥–∏ –º–æ–∂–Ω–æ –∑–∞–±—Ä–∞—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –∏–≥—Ä—ã, –∫—Ä–æ–º–µ –≤–∑—è—Ç–∏—è –ø–∏—Ç—Å—Ç–æ–ø–∞ –∏ –¥–∞—á–∏ 5 –Ω–µ–≤–µ—Ä–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞. –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ 04exit
      timer 1 36 msg %wl_chan –û—Ç–≤–µ—Ç—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –Ω–∞ –∫–∞–Ω–∞–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ 04x
      timer 1 39 msg %wl_chan –õ–∏—à–Ω–∏–µ –≤–æ–ø—Ä–æ—Å—ã –µ—Å—Ç—å?
    }
  }

  if ($did == 12) {
    set %wl_num_q 0
    splay wl_r1_start.mp3
    msg %wl_chan 0,0play wl_r1_start.mp3
  }

  if ($did == 13) {
    base_r1
    inc %wl_num_q
    did -ra wl 14 %wl_num_q
  }

  if ($did == 15) {
    splay wl_r1_question.mp3
    msg %wl_chan 0,0play wl_r1_question.mp3
    var %i 1
    while (%i <= $numtok(%wl_question,126)) {
      msg %wl_chan 00,02...| $a_center($gettok(%wl_question,%i,126),%wl_ql,00,02) 00,02|...
      inc %i
    }
  }

  if ($did == 16) {
    splay wl_r1_time_q $+ %wl_num_q $+ .mp3
    msg %wl_chan 2,2.......10,12|12..10|12..10|12..10|12..10|12..10|12..10|12..10|12..10|12..10|12..10|2,2.00102,2.10,12|12..10|12..10|12..10|12..10|12..10|12..10|12..10|12..10|12..10|12..10|2,2....... 0,0play wl_r1_time_q $+ %wl_num_q $+ .mp3
    timer 1 5 msg %wl_chan 2,2.......10,2|2..10|2..10|2..10|2..10|2..10,12|12..10|12..10|12..10|12..10|12..10|2,2.00052,2.10,12|12..10|12..10|12..10|12..10|12..10|10,22..10|2..10|2..10|2..10|2..10|2,2.......
    timer 1 6 msg %wl_chan 2,2.......10,2|2..10|2..10|2..10|2..10|2..10|2..10,12|12..10|12..10|12..10|12..10|2,2.00042,2.10,12|12..10|12..10|12..10|12..10,12|10,22..10|2..10|2..10|2..10|2..10|2..10|2,2.......
    timer 1 7 msg %wl_chan 2,2.......10,2|2..10|2..10|2..10|2..10|2..10|2..10|2..10,12|12..10|12..10|12..10|2,2.00032,2.10,12|12..10|12..10|12..10|12,22..10|10,22..10|2..10|2..10|2..10|2..10|2..10|2,2.......
    timer 1 8 msg %wl_chan 2,2.......10,2|2..10|2..10|2..10|2..10|2..10|2..10|2..10|2..10,12|12..10|12..10|2,2.00022,2.10,12|12..10|12..10|10,22..10|2..10|2..10|2..10|2..10|2..10|2..10|2..10|2,2.......
    timer 1 9 msg %wl_chan 2,2.......10,2|2..10|2..10|2..10|2..10|2..10|2..10|2..10|2..10|2..10,12|12..10|2,2.00012,2.10,12|12..10|10,22..10|2..10|2..10|2..10|2..10|2..10|2..10|2..10|2..10|2,2.......
    timer 1 10 msg %wl_chan 2,2.......10,2|2..10|2..10|2..10|2..10|2..10|2..10|2..10|2..10|2..00–í—Ä–µ–º—è –≤—ã—à–ª–æ!2..10|2..10|2..10|2..10|2..10|2..10|2..10|2..10|2..10|2,2.......
  }

  if ($did == 20) {
    splay wl_r1_top3.wav
    msg %wl_chan 0,0play wl_r1_top3.wav
  }

  if ($did == 21) {
    splay wl_r1_top3.wav
    msg %wl_chan 0,0play wl_r1_top3.wav
  }

  if ($did == 22) {
    splay wl_r1_top.mp3
    msg %wl_chan 0,0play wl_r1_top.mp3
  }

  if ($did == 25) {
    splay wl_r1_end.mp3
    msg %wl_chan 0,0play wl_r1_end.mp3
  }

  if ($did == 27) {
    splay wl_r2_begin.mp3
    msg %wl_chan 0,0play wl_r2_begin.mp3
  }

  if ($did == 28) {
    set %wl_losers 0
    splay wl_r2_1.mp3
    msg %wl_chan 0,0play wl_r2_1.mp3
  }

  if ($did == 30) {
    splay wl_r2_time_5.wav
    msg %wl_chan 2,2.......10,12|12.....10|12.....10|12.....10|12.....10|12.....10|2,2.00052,2.10,12|12.....10|12.....10|12.....10|12.....10|12.....10|2,2....... 0,0play wl_r2_time_5.wav
    timer 1 1 msg %wl_chan 2,2.......10,2|2.....10,12|12.....10|12.....10|12.....10|12.....10|2,2.00042,2.10,12|12.....10|12.....10|12.....10|12.....10,12|10,22.....10|2,2.......
    timer 1 2 msg %wl_chan 2,2.......10,2|2.....10|2.....10,12|12.....10|12.....10|12.....10|2,2.00032,2.10,12|12.....10|12.....10|12.....10,12|10,22.....10|2.....10|2,2.......
    timer 1 3 msg %wl_chan 2,2.......10,2|2.....10|2.....10|2.....10,12|12.....10|12.....10|2,2.00022,2.10,12|12.....10|12.....10,12|10,22.....10|2.....10|2.....10|2,2.......
    timer 1 4 msg %wl_chan 2,2.......10,2|2.....10|2.....10|2.....10|2.....10,12|12.....10|2,2.00012,2.10,12|12.....10,12|10,22.....10|2.....10|2.....10|2.....10|2,2.......
    timer 1 5 msg %wl_chan 2,2.......10,2|2.....10|2.....10|2.....10|2.....10|2,2..00–í—Ä–µ–º—è –≤—ã—à–ª–æ!2,2..10|10,22.....10|2.....10|2.....10|2.....10|2,2.......
  }

  if ($did == 31) {
    splay wl_r2_correct.wav
    msg %wl_chan 0,0play wl_r2_correct.wav
  }

  if ($did == 33) {
    set %wl_loser $?="–ö–∞–∫–æ–π –∏–≥—Ä–æ–∫ –ø–æ–∫–∏–¥–∞–µ—Ç –∏–≥—Ä—É? (–ù–æ–º–µ—Ä –Ω–∏–∫–∞ –Ω–∞ –ø–∞–Ω–µ–ª–µ –æ—Ç 1 –¥–æ 6)"
    inc %wl_losers
    splay wl_r2_ $+ $calc(%wl_losers + 1) $+ .mp3
    msg %wl_chan 0,0play wl_r2_ $+ $calc(%wl_losers + 1) $+ .mp3
  }

  if ($did == 43) {
    set %wl_round 3
    set %wl_pit 2
    set %wl_pitstops 15,12[S]|15,12[S]
    set %wl_time 180
    set %wl_tree 1000|2000|3000|4000|5000|10000|20000|30000|40000|50000|60000|70000|80000|90000|100000|200000|300000|400000|500000|1000000
    set %wl_wrong 0
    set %wl_player $did(6)
    splay wl_r3_begin.mp3
    msg %wl_chan 0,0play wl_r3_begin.mp3
    timer 1 2 mode %wl_chan +v %wl_player
  }

  if ($did == 45) {
    splay wl_r3_start.mp3
    msg %wl_chan 0,0play wl_r3_start.mp3
  }

  if ($did == 46) {
    ans_load
    splay wl_r3_answers.mp3
    msg %wl_chan 0,0play wl_r3_answers.mp3
    answers
  }

  if ($did == 47) {
    questionbase
    splay wl_r3_time.mp3
    15sec_timer
    timer 1 15 msg %wl_chan 02,02...00,06( $+ $f_time(%j) $+ )02,02... $+ $gettok(%wl_pitstops,1,124) $+ 02,02.$+ $gettok(%wl_pitstops,2,124) $+ 02,02...
    timer 1 15 timer
    timer 1 15 set %wl_mode 1
    timer 1 16 msg %wl_chan 0,2 %wl_question 
  }

  if ($did == 49) {
    wronganswers
  }

  if ($did == 50) {
    pitstop
    timer1000 -p
  }

}

on *:INPUT:*: {
  if ($1 == —Å—Ç–æ–ø) && (%wl_mode == 1) && ($nick == %wl_player) {
    set %wl_mode 0
    pitstop
  }
  if ($1 == –ø–∞—Å) && (%wl_mode == 1) && ($nick == %wl_player) {
    dec %wl_pass
    passes
    questionbase
    timer 1 1 msg %wl_chan 0,2 %wl_question 
  }
  if ($1 == exit) && (%wl_mode == 1) && ($nick == %wl_player) {
    timers off
    set %wl_mode 0
    set %wl_win $gettok(%wl_tree,%wl_price,124)
    splay wl_r3_end.mp3
    msg %wl_chan 00,00play wl_r3_end.mp3
  }
  if (%wl_mode == 1) && ($nick == %wl_player) {
    set %wl_answer2 $1
    if (($1 >= 1) && ($1 <= 49)) {
      if (%wl_number == %wl_answer2) {
        inc %wl_price
        splay wl_r3_correct.wav
        msg %wl_chan 2,2.00,06[ $+ %wl_number $+ ]02,02.03,03. $+ $wordline(00,03,10,%wl_answer,2) $+ 03.02,02.06,06.00 $+ $gettok(%wl_tree,%wl_price,124) $+ 06.02,02.01,01.15 $+ %wl_price $+ /2001,01.02,02. 00,00play wl_r3_correct.wav
        set %wl_answers $puttok(%wl_answers, -, %wl_number, 124)
        if (%wl_price == 20) {
          timers off
          set %wl_mode 0
          splay wl_r3_end_win.mp3
          msg %wl_chan 0,0play wl_r3_end_win.mp3
        }
      }
      else {
        msg %wl_chan 2,2.00,06[ $+ %wl_number $+ ]02,02.05,05. $+ $wordline(00,05,10,%wl_answer,2) $+ 05.
        wronganswers
      }
      questionbase
      timer 1 1 msg %wl_chan 0,2 %wl_question 
    }
  }
}

on *:TEXT:*:%wl_chan: {
  if ($1 == —Å—Ç–æ–ø) && (%wl_mode == 1) && ($nick == %wl_player) {
    set %wl_mode 0
    pitstop
  }
  if ($1 == –ø–∞—Å) && (%wl_mode == 1) && ($nick == %wl_player) {
    dec %wl_pass
    passes
    questionbase
    timer 1 1 msg %wl_chan 0,2 %wl_question 
  }
  if ($1 == —Å—Ç–æ–ø–∏–≥—Ä–∞) && (%wl_mode == 1) && ($nick == %wl_player) {
    timers off
    set %wl_mode 0
    set %wl_win $gettok(%wl_tree,%wl_price,124)
    splay wl_r3_end.mp3
    msg %wl_chan 00,00play wl_r3_end.mp3
  }
  if (%wl_mode == 1) && ($nick == %wl_player) {
    set %wl_answer2 $1
    if (($1 >= 1) && ($1 <= 49)) {
      if (%wl_number == %wl_answer2) {
        inc %wl_price
        splay wl_r3_correct.wav
        msg %wl_chan 2,2.00,06[ $+ %wl_number $+ ]02,02.03,03. $+ $wordline(00,03,10,%wl_answer,2) $+ 03.02,02.06,06.00 $+ $gettok(%wl_tree,%wl_price,124) $+ 06.02,02.01,01.15 $+ %wl_price $+ /2001,01.02,02. 00,00play wl_r3_correct.wav
        set %wl_answers $puttok(%wl_answers, -, %wl_number, 124)
        if (%wl_price == 20) {
          timers off
          set %wl_mode 0
          splay wl_r3_end_win.mp3
          msg %wl_chan 0,0play wl_r3_end_win.mp3
        }
      }
      else {
        msg %wl_chan 2,2.00,06[ $+ %wl_number $+ ]02,02.05,05. $+ $wordline(00,05,10,%wl_answer,2) $+ 05.
        wronganswers
      }
      questionbase
      timer 1 1 msg %wl_chan 0,2 %wl_question 
    }
  }
}

alias -l base_r1 {
  var %wl_q $read(scripts\wl\wl_base_r1.txt, $rand(1, $lines(scripts\wl\wl_base_r1.txt)))
  write -dl $+ $readn scripts\wl\wl_base_r1.txt
  set %wl_question $gettok(%wl_q, 1, 124)
  set %wl_answer $gettok(%wl_q, 2, 124)
  var %tmp 45

  set %wl_ql $calc(%tmp + 25)
  set %wl_question $questionize(%wl_question,%wl_ql)

  did -ra wl 23 %wl_question
  did -ra wl 24 %wl_answer
}

alias -l base_r3 {
  var %wl_q $read(scripts\wl\wl_base_r3.txt, $rand(1, $lines(scripts\wl\wl_base_r3.txt)))
  write -dl $+ $readn scripts\wl\wl_base_r3.txt
  set %wl_question $gettok(%wl_q, 1, 124)
  set %wl_answer $gettok(%wl_q, 2, 124)
  set %wl_number $gettok(%wl_q, 3, 124)

  did -ra wl 51 %wl_question
  did -ra wl 52 %wl_answer
  did -ra wl 53 %wl_number
}

alias -l ans_load {
  var %wl_ans $read(scripts\wl\wl_answers.txt, $rand(1, $lines(scripts\wl\wl_answers.txt)))
  write -dl $+ $readn scripts\wl\wl_answers.txt
  set %wl_answers %wl_ans
}
